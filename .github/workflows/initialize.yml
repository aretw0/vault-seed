# .github/workflows/initialize.yml
name: üéâ Inicializa o Vault no Primeiro Push

on:
  push:
    branches:
      - main

jobs:
  initialize-and-self-destruct:
    runs-on: ubuntu-latest
    # Apenas executa se for um push para a branch 'main' E
    # se o reposit√≥rio N√ÉO for o reposit√≥rio de template original 'aretw0/vault-seed'.
    if: github.ref == 'refs/heads/main' && github.repository != 'aretw0/vault-seed'

    permissions:
      contents: write

    steps:
      - name: üèóÔ∏è Initialize Project from Template
        uses: aretw0/template-initializer@v0
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          template_repository: "aretw0/vault-seed"
          workflow_filename: ".github/workflows/initialize.yml"
          reset_changelog: "true"
          reset_version: "true"
          files_to_rename: "README.template.md:README.md CONTRIBUTING.template.md:CONTRIBUTING.md GEMINI.template.md:GEMINI.md"
          files_to_remove: "docs GEMINI.template.md README.template.md CONTRIBUTING.template.md .github/workflows/template-ci.yml .github/workflows/prepare-release-pr.yml .github/workflows/release.yml .github/workflows/sync-develop-with-main.yml .github/workflows/gemini*.yml"
